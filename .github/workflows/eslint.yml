name: Lint

on:
  pull_request:
    branches:
      - main
    types:
      - opened
      - reopened

jobs:
  lint-files:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Install yarn
        run: npm install -g yarn

      - id: files
        uses: jitterbit/get-changed-files@v1
        with:
          format: csv
          token: ${{ github.token }}

      - name: Run scoped actions
        uses: DukeManh/scoped-actions@v1
        with:
          files: ${{ steps.files.outputs.added_modified }}
          s0: 'yarn'
          s1: 'yarn lint'
