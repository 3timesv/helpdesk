var b=(p,t,e)=>new Promise((c,u)=>{var i=l=>{try{o(e.next(l))}catch(m){u(m)}},a=l=>{try{o(e.throw(l))}catch(m){u(m)}},o=l=>l.done?c(l.value):Promise.resolve(l.value).then(i,a);o((e=e.apply(p,t)).next())});import{_ as y,I as h,i as S,a3 as k,h as $,N as P,L as I,r,o as n,k as d,b as L,w as f,l as s,m as _,t as w,q as g,n as v,p as V,y as B,z as j,x}from"./vendor.1fecb205.js";const C={name:"SlaPolicyListItem",props:["policy"],components:{Input:h,FeatherIcon:S,Switch:k},setup(p){const t=$(!1);return P(t,(e,c)=>b(this,null,function*(){console.log(`enabled switched to ${e}`)})),I(()=>{t.value=p.policy.enabled}),{enabled:t}}},N={class:"block py-4 hover:bg-gray-50 border-b text-base"},z={class:"mr-4"},F={class:"sm:w-6/12"},W={class:"sm:w-5/12"},A={class:"sm:w-1/12"},D=s("span",{class:"sr-only"},"Enable notifications",-1);function E(p,t,e,c,u,i){const a=r("Input"),o=r("Switch"),l=r("router-link");return n(),d("div",N,[e.policy?(n(),L(l,{key:0,class:"group flex items-center justify-between sm:justify-start font-light pl-4 pr-8 space-x-2",to:`/policys/${e.policy.name}`},{default:f(()=>[s("div",z,[_(a,{type:"checkbox",value:""})]),s("div",F,w(e.policy.name),1),s("div",W,w(e.policy.default_service_level_agreement?"Default":""),1),s("div",A,[_(o,{modelValue:c.enabled,"onUpdate:modelValue":t[0]||(t[0]=m=>c.enabled=m),class:g([e.policy.enabled?"bg-blue-500":"bg-slate-300","relative inline-flex items-center h-6 rounded-full w-11"])},{default:f(()=>[D,s("span",{class:g([e.policy.enabled?"translate-x-6":"translate-x-1","inline-block w-4 h-4 transform bg-white rounded-full"])},null,2)]),_:1},8,["modelValue","class"])])]),_:1},8,["to"])):v("",!0)])}var q=y(C,[["render",E]]);const M={name:"SlaPolicyList",inject:["viewportWidth"],props:["policies"],components:{Input:h,SlaPolicyListItem:q},computed:{}},T={class:"block px-0"};function U(p,t,e,c,u,i){const a=r("SlaPolicyListItem");return n(),d("div",null,[s("div",null,[e.policies?(n(),d("div",{key:0,class:"w-full block overflow-auto",style:V({height:i.viewportWidth>768?"calc(100vh - 7.3rem)":null})},[(n(!0),d(B,null,j(e.policies,o=>(n(),d("div",{class:"flex-auto",key:o.name},[s("div",T,[_(a,{policy:o},null,8,["policy"])])]))),128))],4)):v("",!0)])])}var G=y(M,[["render",U]]);const H={name:"SlaPolicySettings",inject:["viewportWidth"],components:{SlaPolicyList:G,Input:h},resources:{policies(){return{method:"frappe.client.get_list",params:{doctype:"Service Level Agreement",fields:["*"]},auto:!0}}},activated(){this.$currentPage.set("SlaPolicySettings")},deactivated(){},computed:{policies(){return console.log(this.$resources.policies.data),this.$resources.policies.data||null}}},J={class:"flow-root border-b pt-2 pb-3 pr-8"},K={class:"float-left ml-4"},O={class:"flex items-center space-x-4"},Q=x("Add Policy"),R={class:"float-right"},X=x("Filter"),Y={key:0};function Z(p,t,e,c,u,i){const a=r("Input"),o=r("Button"),l=r("SlaPolicyList");return n(),d("div",null,[s("div",J,[s("div",K,[s("div",O,[_(a,{type:"checkbox",value:""}),_(o,{"icon-left":"plus",appearance:"primary",onClick:t[0]||(t[0]=()=>{})},{default:f(()=>[Q]),_:1})])]),s("div",R,[_(o,{"icon-left":"filter",type:"white"},{default:f(()=>[X]),_:1})])]),i.policies?(n(),d("div",Y,[_(l,{policies:i.policies},null,8,["policies"])])):v("",!0)])}var se=y(H,[["render",Z]]);export{se as default};
