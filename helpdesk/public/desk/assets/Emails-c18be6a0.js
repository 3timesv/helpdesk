import{_ as x,I as y,s as A,r as n,o as s,d as l,b as e,i as a,w as c,k as I,t as g,c as f,m as d,h as $,F as E,e as C,f as S,v as L,au as F}from"./index-d9377e3a.js";import{C as w}from"./CustomIcons-60888788.js";import{L as N}from"./ListManager-d2a1afc7.js";import{L as V}from"./ListViewer-af42e401.js";import"./Dropdown-e0c50cd3.js";import"./use-tracked-pointer-4b3ac621.js";import"./use-resolve-button-type-390b11ae.js";import"./listFilters-8ea4c2e9.js";import"./Autocomplete-c752a27e.js";import"./use-controllable-93c8440b.js";import"./CustomSwitch-323f8131.js";import"./ErrorMessage-e4ff6432.js";const B={name:"EmailListItem",props:["emailAccount","selected"],components:{Input:y,FeatherIcon:A,CustomIcons:w}},W={key:0,class:"flex items-center text-base"},M={class:"w-[37px] h-[14px] flex items-center"},T={class:"w-full group flex items-center"},D={class:"sm:w-5/12"},P={class:"sm:w-5/12"},z={class:"sm:w-3/12"},O={class:"pl-4"},j=["title"],H={class:"sm:w-3/12"},Q={class:"pl-4"},q=["title"];function G(r,o,t,v,k,b){const p=n("Input"),u=n("router-link"),_=n("CustomIcons");return s(),l("div",{class:$(["block select-none rounded-[6px] py-[7px] px-[11px]",t.selected?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-50"])},[t.emailAccount?(s(),l("div",W,[e("div",M,[a(p,{type:"checkbox",onClick:o[0]||(o[0]=h=>r.$emit("toggleSelect")),checked:t.selected,role:"button"},null,8,["checked"])]),e("div",T,[a(u,{to:`/frappedesk/settings/emails/${t.emailAccount.name}`,class:"sm:w-4/12"},{default:c(()=>[I(g(t.emailAccount.name),1)]),_:1},8,["to"]),e("div",D,g(t.emailAccount.email_id),1),e("div",P,g(t.emailAccount.service),1),e("div",z,[e("div",O,[e("a",{title:t.emailAccount.default_incoming?"default incoming":""},[t.emailAccount.enable_incoming?(s(),f(_,{key:0,name:"circle-check",class:"h-[20px] w-[20px] fill-blue-500"})):d("",!0)],8,j)])]),e("div",H,[e("div",Q,[e("a",{title:t.emailAccount.default_outgoing?"default outging":""},[t.emailAccount.enable_outgoing?(s(),f(_,{key:0,name:"circle-check",class:"h-[20px] w-[20px] fill-blue-500"})):d("",!0)],8,q)])])])])):d("",!0)],2)}const J=x(B,[["render",G]]),K={name:"EmailList",props:["manager"],components:{EmailListItem:J,CustomIcons:w,Input:y},setup(){return{viewportWidth:L("viewportWidth")}}},R={class:"bg-[#F7F7F7] group flex items-center text-base font-medium text-gray-500 py-[10px] px-[11px] rounded-[6px] select-none"},U={class:"w-[37px] h-[14px]"},X=F('<div class="flex flex-row items-center group w-full"><div class="sm:w-4/12">Name</div><div class="sm:w-5/12">Email</div><div class="sm:w-5/12">Service</div><div class="sm:w-3/12">Incoming</div><div class="sm:w-3/12">Outgoing</div></div>',1),Y={key:0},Z={key:0},ee={key:1},te={class:"grid place-content-center h-48 w-full"},se=e("div",{class:"text-gray-500 mb-2"}," No email accounts found ",-1),ie={class:"pb-2"};function ne(r,o,t,v,k,b){const p=n("Input"),u=n("EmailListItem"),_=n("CustomIcons"),h=n("Button");return s(),l("div",null,[e("div",R,[e("div",U,[a(p,{type:"checkbox",onClick:o[0]||(o[0]=m=>t.manager.selectAll()),checked:t.manager.allItemsSelected,role:"button"},null,8,["checked"])]),X]),e("div",{id:"rows",class:"flex flex-col space-y-2 overflow-auto",style:S({height:v.viewportWidth>768?"calc(100vh - 120px)":null})},[t.manager.loading?d("",!0):(s(),l("div",Y,[t.manager.list.length>0?(s(),l("div",Z,[(s(!0),l(E,null,C(t.manager.list,(m,i)=>(s(),l("div",{key:m.name},[a(u,{class:$(i==0?"mt-[9px] mb-[2px]":"my-[2px]"),emailAccount:m,onToggleSelect:ge=>t.manager.select(m),selected:t.manager.itemSelected(m)},null,8,["class","emailAccount","onToggleSelect","selected"])]))),128))])):(s(),l("div",ee,[e("div",te,[e("div",null,[a(_,{name:"empty-list",class:"h-12 w-12 mx-auto mb-2"}),se])])]))])),e("div",ie,[t.manager.hasNextPage?(s(),f(h,{key:0,onClick:o[1]||(o[1]=m=>t.manager.nextPage())},{default:c(()=>[I(" Load More ")]),_:1})):d("",!0)])],4)])}const oe=x(K,[["render",ne]]),ce={name:"Emails",components:{EmailList:oe,ListManager:N,ListViewer:V,CustomIcons:w},mounted(){this.$event.emit("set-selected-setting","Email Accounts")},setup(){return{viewportWidth:L("viewportWidth")}}},le={class:"flex flex-col px-4"},ae={class:"w-full group flex items-center"},me={class:"text-[13px] text-gray-600 font-inter"},de={class:"text-[13px] text-gray-600 font-inter"},re={title:"Default incoming",class:"w-full group flex items-center"},ue={title:"Default outgoing"};function _e(r,o,t,v,k,b){const p=n("router-link"),u=n("CustomIcons"),_=n("ListViewer"),h=n("ListManager");return s(),l("div",le,[a(h,{options:{cache:["EmailAccounts","Settings"],doctype:"Email Account",urlQueryFilters:!0,saveFiltersLocally:!0,fields:["email_account_name","email_id","service","enable_incoming","default_incoming","enable_outgoing","default_outgoing"],limit:20,filters:[["IMAP Folder","append_to","in",["HD Ticket"]]]}},{body:c(({manager:m})=>[a(_,{options:{name:"Email",base:"12",listTitle:"Email Accounts",filterBox:!0,presetFilters:!0,fields:{email_account_name:{label:"Name",width:"3"},email_id:{label:"Email",width:"2"},service:{label:"Service",width:"2"},default_incoming:{label:"Incoming",width:"2"},default_outgoing:{label:"Outgoing",width:"2"}}},class:"text-base h-[calc(100vh-9.5rem)] pt-4",onAddItem:o[0]||(o[0]=()=>{r.$router.push("/frappedesk/settings/emails/new")})},{"field-email_account_name":c(({row:i})=>[e("div",ae,[a(p,{to:{path:`/frappedesk/settings/emails/${i.email_account_name}`},class:"text-[13px] text-gray-600 font-inter hover:text-gray-900"},{default:c(()=>[e("div",null,g(`${i.email_account_name}`),1)]),_:2},1032,["to"])])]),"field-email_id":c(({row:i})=>[e("div",me,g(`${i.email_id}`),1)]),"field-service":c(({row:i})=>[e("div",de,g(`${i.service}`),1)]),"field-default_incoming":c(({row:i})=>[e("a",re,[i.default_incoming?(s(),f(u,{key:0,name:"circle-check",class:"w-[16px] h-[16px] fill-blue-500"})):d("",!0)])]),"field-default_outgoing":c(({row:i})=>[e("a",ue,[i.default_outgoing?(s(),f(u,{key:0,name:"circle-check",class:"w-[16px] h-[16px] fill-blue-500"})):d("",!0)])]),_:1})]),_:1})])}const Ae=x(ce,[["render",_e]]);export{Ae as default};
