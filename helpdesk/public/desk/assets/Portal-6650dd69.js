import{_ as v,s as w,u as x,o as s,d as i,b as o,i as p,F as C,e as I,c as d,w as f,t as $,m as g,v as y,r as c,bB as B}from"./index-d9377e3a.js";import{D as N}from"./Dropdown-e0c50cd3.js";import{C as T}from"./CustomIcons-60888788.js";import{C as S}from"./CustomAvatar-eaa7b5a6.js";import"./use-tracked-pointer-4b3ac621.js";import"./use-resolve-button-type-390b11ae.js";const A={name:"NavBar",components:{CustomIcons:T,CustomAvatar:S,Dropdown:N,FeatherIcon:w},setup(){const t=x(),n=y("ticketTemplates");return{authStore:t,ticketTemplates:n}},resources:{navbarItems(){return{url:"frappedesk.api.website.navbar_items",auto:!0}}},computed:{navbarItems(){const t=[];this.$resources.navbarItems.data&&(this.$resources.navbarItems.data.forEach(e=>{e.parent_label||(e.children=[],t.push(e))}),this.$resources.navbarItems.data.forEach(e=>{e.parent_label&&(e.handler=()=>{window.location.href=e.url},t.find(l=>l.label===e.parent_label).children.push(e))}));const n=["/support/tickets","/support/tickets/","/support/tickets/new","/support/tickets/new/"],h=()=>{for(let e of n)if(this.$route.fullPath.substring(0,e.length)===e)return!0;return!1},a=()=>t.find(e=>n.includes(e.url))!==void 0;return!h()&&!a()&&t.push({label:"Create a Ticket",url:"/support/tickets",children:[]}),t},profileOptions(){return[{label:"My Account",handler:()=>{window.location.href="/me"}},{label:"Logout",handler:()=>{this.authStore.logout(),window.location.href="/support/login"}}]}}},D={class:"py-4"},L={class:"container mx-auto"},F={class:"flex flex-wrap justify-between items-center"},R={class:"flex items-center"},E={href:"/"},P={class:"flex space-x-8 text-[14px] text-[#4C5A67] items-center"},M=["onClick"],V={class:"hover:text-[#2490ef]"},j=["href","innerHTML"];function H(t,n,h,a,e,l){const _=c("CustomIcons"),m=c("FeatherIcon"),u=c("Dropdown"),b=c("CustomAvatar");return s(),i("div",D,[o("div",L,[o("div",F,[o("div",R,[o("a",E,[p(_,{name:"company",class:"max-h-10"})])]),o("div",P,[(s(!0),i(C,null,I(l.navbarItems,r=>(s(),i("div",{key:r.label},[r.children.length>0?(s(),d(u,{key:0,options:r.children},{default:f(({toggleDropdown:k})=>[o("div",{class:"flex flex-row space-x-2 items-center cursor-pointer",onClick:k},[o("span",V,$(r.label),1),p(m,{name:"chevron-down",class:"h-4 w-4 stroke-black"})],8,M)]),_:2},1032,["options"])):(s(),i("a",{key:1,href:r.url,class:"hover:text-[#2490ef]",innerHTML:r.label},null,8,j))]))),128)),p(u,{placement:"right",options:l.profileOptions,"dropdown-width-full":!0},{default:f(({toggleDropdown:r})=>[a.authStore.userId?(s(),d(b,{key:0,onClick:r,label:a.authStore.username,class:"cursor-pointer",size:"xl",imageURL:a.authStore.userImage},null,8,["onClick","label","imageURL"])):g("",!0)]),_:1},8,["options"])])])])])}const O=v(A,[["render",H]]),U={name:"Portal",components:{NavBar:O}},z={class:"h-15 border-b"},q={class:"mb-10"};function G(t,n,h,a,e,l){const _=c("NavBar"),m=c("router-view");return s(),i("div",null,[o("div",z,[p(_)]),o("div",q,[(s(),d(m,{key:t.$route.fullPath},{default:f(({Component:u})=>[(s(),d(B(u)))]),_:1}))])])}const Z=v(U,[["render",G]]);export{Z as default};
