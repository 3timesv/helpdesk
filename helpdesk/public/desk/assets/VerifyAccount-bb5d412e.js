import{L as y}from"./LoginBox-70243d97.js";import{_,I as h,u as w,p as i,c as V,w as u,r,o as v,b as c,i as s,k as x,q as A}from"./index-d9377e3a.js";import"./CustomIcons-60888788.js";const B={name:"VerifyAccount",props:["requestKey"],components:{LoginBox:y,Input:h},setup(){const a=w(),e=i(""),n=i("");return{authStore:a,email:e,password:n}},resources:{verifyAccount(){return{url:"frappedesk.api.account.verify_and_create_account",onSuccess:async()=>{await this.authStore.login(this.email,this.password),this.$router.push("/support/tickets")},onError:()=>{}}}},methods:{verifyAccount(){this.$resources.verifyAccount.submit({request_key:this.requestKey,email:this.email,password:this.password})}}};function g(a,e,n,o,S,p){const l=r("Input"),m=r("ErrorMessage"),d=r("Button"),f=r("LoginBox");return v(),V(f,{title:"Account Setup"},{default:u(()=>[c("form",{class:"space-y-4",onSubmit:e[2]||(e[2]=A(t=>p.verifyAccount(),["prevent"]))},[s(l,{label:"Email",type:"email",placeholder:"johndoe@mail.com",autocomplete:"email",modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),required:""},null,8,["modelValue"]),s(l,{label:"Password",type:"password",placeholder:"*****",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),required:""},null,8,["modelValue"]),s(m,{class:"mt-4",error:""}),c("div",null,[s(d,{appearance:"primary",class:"w-full mt-4",loading:!1,type:"primary"},{default:u(()=>[x(" Submit ")]),_:1})])],32)]),_:1})}const E=_(B,[["render",g]]);export{E as default};
